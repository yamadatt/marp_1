{"version":3,"file":"1.2.2.js","names":["_nodeUtil","require","replaceSymbol","report","context","Syntax","RuleError","fixer","getSource","Str","node","isUserWrittenNode","text","test","index","search","symbol","fix","replaceTextRange","module","exports","linter"],"sources":["../src/1.2.2.js"],"sourcesContent":["// LICENSE : MIT\n\"use strict\";\nimport { isUserWrittenNode } from \"./util/node-util\";\n/*\n1.2.2. ピリオド(.)とカンマ(,)\n欧文で表記する組織名などの固有名詞や数字にピリオド(.)やカンマ(,)が含まれる場合は、和文中でもピリオド(.)とカンマ(,)を使用します。\nいずれの場合も半角で表記します。「4.1.3 ピリオド(.)、カンマ(,)」を参照してく ださい。\n */\n\n// . => 。 の置換マップ\nconst replaceSymbol = {\n    \"．\": \".\",\n    \"，\": \",\"\n};\nfunction report(context) {\n    let { Syntax, RuleError, fixer, report, getSource } = context;\n    return {\n        [Syntax.Str](node) {\n            if (!isUserWrittenNode(node, context)) {\n                return;\n            }\n            let text = getSource(node);\n            // 1.2.2. ピリオド(.)とカンマ(,)\n            if (/[．，]/.test(text)) {\n                const index = text.search(/[．，]/);\n                const symbol = replaceSymbol[text[index]];\n                report(\n                    node,\n                    new RuleError(\"全角のピリオドとカンマは使用しません。\", {\n                        index: index,\n                        fix: fixer.replaceTextRange([index, index + 1], symbol)\n                    })\n                );\n            }\n        }\n    };\n}\nmodule.exports = {\n    linter: report,\n    fixer: report\n};\n"],"mappings":"AAAA;AACA,YAAY;;AACZ,IAAAA,SAAA,GAAAC,OAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMC,aAAa,GAAG;EAClB,GAAG,EAAE,GAAG;EACR,GAAG,EAAE;AACT,CAAC;AACD,SAASC,MAAMA,CAACC,OAAO,EAAE;EACrB,IAAI;IAAEC,MAAM;IAAEC,SAAS;IAAEC,KAAK;IAAEJ,MAAM;IAAEK;EAAU,CAAC,GAAGJ,OAAO;EAC7D,OAAO;IACH,CAACC,MAAM,CAACI,GAAG,EAAEC,IAAI,EAAE;MACf,IAAI,CAAC,IAAAC,2BAAiB,EAACD,IAAI,EAAEN,OAAO,CAAC,EAAE;QACnC;MACJ;MACA,IAAIQ,IAAI,GAAGJ,SAAS,CAACE,IAAI,CAAC;MAC1B;MACA,IAAI,MAAM,CAACG,IAAI,CAACD,IAAI,CAAC,EAAE;QACnB,MAAME,KAAK,GAAGF,IAAI,CAACG,MAAM,CAAC,MAAM,CAAC;QACjC,MAAMC,MAAM,GAAGd,aAAa,CAACU,IAAI,CAACE,KAAK,CAAC,CAAC;QACzCX,MAAM,CACFO,IAAI,EACJ,IAAIJ,SAAS,CAAC,qBAAqB,EAAE;UACjCQ,KAAK,EAAEA,KAAK;UACZG,GAAG,EAAEV,KAAK,CAACW,gBAAgB,CAAC,CAACJ,KAAK,EAAEA,KAAK,GAAG,CAAC,CAAC,EAAEE,MAAM;QAC1D,CAAC,CACL,CAAC;MACL;IACJ;EACJ,CAAC;AACL;AACAG,MAAM,CAACC,OAAO,GAAG;EACbC,MAAM,EAAElB,MAAM;EACdI,KAAK,EAAEJ;AACX,CAAC","ignoreList":[]}